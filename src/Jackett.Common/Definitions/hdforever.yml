---
id: hdforever
name: HD-Forever
description: "HD-Forever (HD-F) is a FRENCH Private Torrent Tracker for HD MOVIES"
language: fr-FR
type: private
encoding: UTF-8
links:
  - https://hdf.world/

caps:
  categorymappings:
    - {id: 1, cat: Movies, desc: "Film"}
    - {id: 2, cat: Movies, desc: "Film d'animation"}
    - {id: 3, cat: Movies, desc: "Spectacle"}
    - {id: 4, cat: Movies, desc: "Concert"}
    - {id: 5, cat: TV, desc: "Série"}
    - {id: 6, cat: TV/Anime, desc: "Série d'animation"}
    - {id: 7, cat: Movies, desc: "Documentaire"}

  modes:
    search: [q]
    tv-search: [q, season, ep, imdbid, tvdbid, year]
    movie-search: [q, imdbid, tmdbid, year]

settings:
  - name: username
    type: text
    label: Username
  - name: password
    type: password
    label: Password
  - name: freeleech
    type: checkbox
    label: Search freeleech only
    default: false
  - name: usetoken
    type: checkbox
    label: Always try to use the FreeLeech Token
    default: false
  - name: info_token
    type: info
    label: About the Freeleech token
    default: If you <b>do not</b> have any <i>Freeleech tokens</i> then do not tick this box.</br>Attempting a token download when you have no tokens will generate an <b>error</b>.
  - name: multilang
    type: checkbox
    label: Replace MULTi by another language in release name
    default: false
  - name: multilanguage
    type: select
    label: Replace MULTi by this language
    default: FRENCH
    options:
      FRENCH: FRENCH
      MULTi.FRENCH: MULTi.FRENCH
      ENGLISH: ENGLISH
      MULTi.ENGLISH: MULTi.ENGLISH
      VOSTFR: VOSTFR
      MULTi.VOSTFR: MULTi.VOSTFR
  - name: vostfr
    type: checkbox
    label: Replace VOSTFR and SUBFRENCH with ENGLISH
    default: false
  - name: sort
    type: select
    label: Sort requested from site
    default: time
    options:
      time: created
      seeders: seeders
      size: size
  - name: type
    type: select
    label: Order requested from site
    default: desc
    options:
      desc: desc
      asc: asc
  - name: info_radarr
    type: info
    label: About Radarr
    default: The HD-F web site cannot find movies if you use the release year in a title search. When you define your Radarr Indexer remember to tick the <i>Remove year from search string</i> checkbox.

login:
  path: login.php
  method: post
  inputs:
    username: "{{ .Config.username }}"
    password: "{{ .Config.password }}"
    keeplogged: 1
  error:
    - selector: form#loginform > span.warning
  test:
    path: torrents.php
    selector: a[href^="logout.php?auth="]

search:
  # https://hdf.world/torrents.php?groupname=Un+Singe+en+hiver&freetorrent=1&year=1962&order_by=time&order_way=desc&action=advanced&searchsubmit=1
  paths:
    - path: torrents.php
  inputs:
    $raw: "{{ range .Categories }}filter_cat[{{.}}]=1&{{end}}"
    groupname: "{{ .Keywords }}"
    year: "{{ .Query.Year }}"
    order_by: "{{ .Config.sort }}"
    order_way: "{{ .Config.type }}"
    action: advanced
    searchsubmit: 1
    # 1 freeleech, 2 neutral, 3 both, 0 normal
    freetorrent: "{{ if .Config.freeleech }}1{{ else }}{{ end }}"
    tmdbid: "{{ .Query.TMDBID }}"
    imdbid: "{{ .Query.IMDBID }}"

  rows:
    selector: table#torrent_table > tbody > tr.torrent:has(a[href^="torrents.php?action=download&"])

  fields:
    category:
      selector: td.cats_col
      case:
        div.cats_film: 1
        div[class*="cats_filmd"]: 2
        div.cats_spectacle: 3
        div.cats_concert: 4
        div.cats_série: 5
        div[class*="cats_séried"]: 6
        div.cats_documentaire: 7
    details:
      selector: a[href^="torrents.php?id="]
      attribute: href
    download_regular:
      selector: a[href^="torrents.php?action=download&"]
      attribute: href
    download_usetoken:
      selector: a[href^="torrents.php?action=download&"]
      attribute: href
      filters:
        - name: append
          args: "&usetoken=1"
    download:
      text: "{{ if .Config.usetoken }}{{ .Result.download_usetoken }}{{ else }}{{ .Result.download_regular }}{{ end }}"
    _release_group:
      selector: span.team_name
      optional: true
      filters:
        - name: trim
    poster:
      selector: div.group_image img
      attribute: src
    date:
      selector: span.time
      filters:
        - name: replace
          args: ["Il y a ", ""]
        - name: replace
          args: ["heures", "hours"]
        - name: replace
          args: ["heure", "hour"]
        - name: replace
          args: ["jours", "days"]
        - name: replace
          args: ["jour", "day"]
        - name: replace
          args: ["semaines", "weeks"]
        - name: replace
          args: ["semaine", "week"]
        - name: replace
          args: ["mois", "months"]
        - name: replace
          args: ["ans", "years"]
        - name: replace
          args: ["an", "year"]
        - name: append
          args: " ago"
    size:
      selector: td:nth-child(5)
    grabs:
      selector: td:nth-child(6)
    seeders:
      selector: td:nth-child(7)
    leechers:
      selector: td:nth-child(8)
    downloadvolumefactor:
      case:
        "div.torrent_info .tl_free": 0
        "div.torrent_info .tl_notice[title=\"-75%\"]": 0.75
        "div.torrent_info .tl_notice[title=\"-50%\"]": 0.50
        "div.torrent_info .tl_notice[title=\"-25%\"]": 0.25 # for this site this is the count ratio, which is 25% of the total torrent size. (I.E. it's 75% free)
        "*": 1
    uploadvolumefactor:
      text: 1
    title_phase1:
      selector: div.group_info
      remove: span.team_name, span:has(a[href^="torrents.php?action=download"]), div.tags, div.vote_controls, div.stats-content, .add_bookmark, img, .tl_free, .tl_notice
      filters:
        - name: replace
          args: ["\n", " "]
        - name: re_replace
          args: ["\\[(?:Concert|Film|Film d'animation|Spectacle|Série|Série d'animation|Documentaire)\\]", ""]
        - name: replace
          args: ["Blu-ray Original", "Complete.BluRay"]
        - name: replace
          args: ["Blu-ray Remux", "Remux"]
        - name: replace
          args: ["Blu-ray Rip", "BluRay.Rip"]
        - name: replace
          args: ["mHD", "mHD.BluRay.Rip"]
        - name: re_replace
          args: ["\\bDC\\b", "Directors.Cut"]
        - name: re_replace
          args: ["\\bVL\\b", "Extended"]
        - name: re_replace
          args: ["\\bRM\\b", "Remastered"]
        - name: re_replace
          args: ["\\bUC\\b", "Uncut"]
        - name: re_replace
          args: ["\\bUR\\b", "Unrated"]
        - name: re_replace
          args: ["\\bES\\b", "Special.Edition"]
        - name: re_replace
          args: ["\\bCrit\\b", "Criterion"]
        - name: replace
          args: ["! Note Modo !", ""]
        - name: re_replace
          args: ["(?:\\/ )?(?:Remplaçable|Complété!|Bonus|[2-9]+ème partie|\\b(?:Cust(?:_sub)?|WAC|BFI|MUET)\\b)(?: \\/)?", ""]
        - name: trim
        - name: re_replace
          args: ["[\\[\\]\\/\\s\\?,:']+", "."]
        - name: trim
          args: "."
        - name: replace
          args: [".VFF.VFQ.StFR.MULTI", ".MULTI.VFF.VFQ"]
        - name: replace
          args: [".VFF.VFQ.VO.StFR.MULTI", ".MULTI.VFF.VFQ"]
        - name: replace
          args: [".VFF.VFQ.VO.StFR", ".MULTI.VFF.VFQ"]
        - name: replace
          args: [".VFQ.VO.StFR", ".MULTI.VFQ"]
        - name: replace
          args: [".VO.VFI.StFR", ".MULTI"]
        - name: replace
          args: [".VO.VF?.StFR", ".MULTI"]
        - name: replace
          args: [".VFF.VO.StFR", ".MULTI.VFF"]
        - name: replace
          args: [".VOF.StFR", ".FRENCH"]
        - name: replace
          args: [".VFQ.StFR", ".FRENCH"]
        - name: replace
          args: [".VFF.StFR.MULTI", ".MULTI.VFF"]
        - name: replace
          args: [".VFF.StFR", ".FRENCH"]
        - name: replace
          args: [".VFI.MULTI", ".MULTI"]
        - name: replace
          args: [".VO.StFR", ".VOSTFR"]
        - name: replace
          args: [".VFQ.VO", ".MULTI.VFQ"]
        - name: replace
          args: [".VFF.VO", ".MULTI.VFF"]
        - name: replace
          args: [".VO.VF?.StFR", ".MULTI"]
        - name: replace
          args: [".VFI.StFR", ".FRENCH"]
        - name: replace
          args: [".VOF.MULTI", ".MULTI.FRENCH"]
        - name: replace
          args: [".VOF", ".FRENCH"]
        - name: replace
          args: [".VFQ.MULTI", ".MULTI.VFQ"]
        - name: append
          args: "{{ if .Result._release_group }}-{{ .Result._release_group }}{{ else }}{{ end }}"
    title_vostfr:
      text: "{{ .Result.title_phase1 }}"
      filters:
        - name: re_replace
          args: ["(?i)\\b(vostfr|subfrench)\\b", "ENGLISH"]
    title_phase2:
      text: "{{ if .Config.vostfr }}{{ .Result.title_vostfr }}{{ else }}{{ .Result.title_phase1 }}{{ end }}"
    title_multilang:
      text: "{{ .Result.title_phase2 }}"
      filters:
        - name: re_replace
          args: ["(?i)\\b(MULTI(?!.*(?:FRENCH|ENGLISH|VOSTFR)))\\b", "{{ .Config.multilanguage }}"]
    title:
      text: "{{ if .Config.multilang }}{{ .Result.title_multilang }}{{ else }}{{ .Result.title_phase2 }}{{ end }}"
    description:
      selector: div.group_info
      filters:
        - name: replace
          args: ["\n", " "]
    minimumratio:
# global MR is 0.6 but torrents must be seeded for 3 days regardless of ratio
#      text: 0.6
#    minimumseedtime:
      # 3 days (as seconds = 3 x 24 x 60 x 60)
      text: 259200
# Gazelle
